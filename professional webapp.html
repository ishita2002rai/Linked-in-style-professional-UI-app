<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Webapp Homepage</title>
  <!-- FontAwesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    crossorigin="anonymous"
  />
  <style>
    :root {
      --nav-height: 60px;
      --sidebar-width: 250px;
      --bg-color: #f3f2ef;
      --card-bg: #fff;
      --border-color: #ddd;
      --primary-color: #0a66c2;
      --text-color: #333;
      --muted-color: #666;
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    body { font-family: Arial, sans-serif; background: var(--bg-color); color: var(--text-color); }
    a { text-decoration: none; color: inherit; cursor: pointer; }
    button { font-family: inherit; cursor: pointer; }

    /* Navbar */
    .navbar {
      position: fixed; top:0; left:0; right:0; height: var(--nav-height);
      background:#fff; border-bottom:1px solid var(--border-color);
      display:flex; align-items:center; padding:0 20px; z-index:1000;
    }
    .navbar .logo { font-size:1.4rem; font-weight:bold; color:var(--primary-color); margin-right:20px; }
    .navbar .search-container { position:relative; margin-right:40px; }
    .navbar input {
      width:280px; height:36px; padding:0 10px;
      border:1px solid #ccc; border-radius:4px;
    }

    #modal-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    #modal-form label {
      font-weight: bold;
    }

    #modal-form input {
      display: block;
      width: 100%;
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }


#modal-form .submit-app {
  background: var(--primary-color);
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 16px;
  font-size: 1rem;
  cursor: pointer;
  align-self: center;       
  margin-top: 10px;        
}



    .search-suggestions {
      position:absolute; top:42px; left:0; right:0; background:#fff;
      border:1px solid #ccc; border-radius:4px; max-height:200px;
      overflow-y:auto; display:none; z-index:1001;
    }
    .search-suggestions .item {
      padding:8px 10px; cursor:pointer;
    }
    .search-suggestions .item:hover { background:var(--bg-color); }
    .search-suggestions .headline { display:block; font-size:0.8rem; color:var(--muted-color); }
    .nav-icons { flex:1; display:flex; justify-content:space-evenly; list-style:none; }
    .nav-icons li a {
      display:flex; flex-direction:column; align-items:center; color:var(--muted-color);
      font-size:0.9rem; transition:color .2s;
    }
    .nav-icons li a.active, .nav-icons li a:hover { color:var(--primary-color); }
    .nav-icons i { font-size:1.3rem; margin-bottom:3px; }

    /* Layout */
    .layout { display:flex; margin-top:var(--nav-height); }

    /* Left Sidebar */
    .sidebar {
      width:var(--sidebar-width); background:#fff; border-right:1px solid var(--border-color);
      padding:20px; height:calc(100vh - var(--nav-height)); position:sticky; top:var(--nav-height);
      overflow-y:auto;
    }
    .profile-preview { text-align:center; margin-bottom:30px; }
    .profile-preview img { width:70px; height:70px; border-radius:50%; margin-bottom:10px; }
    .profile-preview h3 { font-size:1rem; margin-bottom:5px; }
    .profile-preview p { font-size:0.85rem; color:var(--muted-color); }
    .shortcuts { list-style:none; }
    .shortcuts li { margin-bottom:15px; }
    .shortcuts a {
      display:flex; align-items:center; padding:6px 8px; border-radius:4px;
      transition:background .2s,color .2s;
    }
    .shortcuts a.active, .shortcuts a:hover {
      background:var(--bg-color); color:var(--primary-color); font-weight:bold;
    }
    .shortcuts i { margin-right:10px; color:var(--primary-color); }

    /* Main */
    .feed { flex:1; padding:20px; overflow-y:auto; height:calc(100vh - var(--nav-height)); }
    .panel { display:none; padding-bottom:40px; }
    .panel.active { display:block; }

    .card {
      background:var(--card-bg); border:1px solid var(--border-color);
      border-radius:8px; padding:15px; margin-bottom:20px;
    }

    /* Start Post */
    .start-post { display:flex; align-items:center; gap:10px; cursor:pointer; }
    .start-post img { width:50px; height:50px; border-radius:50%; }
    .start-post input {
      flex:1; height:40px; padding:0 15px;
      border:1px solid #ccc; border-radius:20px;
      pointer-events:none; color: var(--muted-color);
    }

    /* Post */
    .post { margin-top:10px; }
    .post-header { display:flex; align-items:center; gap:10px; margin-bottom:10px; cursor:pointer; }
    .post-header img { width:40px; height:40px; border-radius:50%; }
    .post-header .user-info h4 { font-size:1rem; margin-bottom:2px; }
    .post-header .user-info p { font-size:0.8rem; color:var(--muted-color); }
    .post-image { width:100%; max-height:300px; object-fit:cover; border-radius:8px; margin-bottom:10px; }
    .post-content { font-size:0.95rem; margin-bottom:10px; line-height:1.4; }

    .post-actions {
      display:flex; justify-content:space-around;
      border-top:1px solid var(--border-color); padding-top:10px; position:relative;
    }
    .reaction-wrapper { position:relative; }
    .reaction-button {
      background:none; border:none; color:var(--muted-color);
      display:flex; align-items:center; gap:5px; padding:5px 10px;
      border-radius:4px; transition:color .2s;
    }
    .reaction-button:hover { color:var(--primary-color); }
    .reaction-popup {
      position:absolute; bottom:100%; left:0; display:flex; background:#fff;
      border:1px solid #ccc; border-radius:20px; padding:5px;
      opacity:0; visibility:hidden; transition:all .2s; white-space:nowrap; z-index:10;
    }
    .reaction-wrapper:hover .reaction-popup { opacity:1; visibility:visible; }
    .reaction-option {
      padding:5px 8px; cursor:pointer; display:flex; align-items:center; font-size:1.2rem;
    }
    .reaction-option span { font-size:0.8rem; margin-left:4px; }

    .comment-section { margin-top:10px; border-top:1px solid var(--border-color); padding-top:10px; }
    .comment-list { margin-bottom:10px; }
    .comment {
      display:flex; align-items:flex-start; margin-bottom:10px;
    }
    .comment-avatar { width:30px; height:30px; border-radius:50%; margin-right:10px; }
    .comment-body {
      background:#f0f0f0; border-radius:8px; padding:8px; flex:1;
    }
    .comment-body .comment-user { font-weight:bold; margin-right:5px; }
    .comment-body .comment-headline { font-size:0.8rem; color:var(--muted-color); }
    .comment-body .comment-text { margin:5px 0; }
    .comment-body .comment-time { font-size:0.75rem; color:var(--muted-color); }

    .comment-form { display:flex; align-items:center; gap:10px; }
    .comment-input { flex:1; padding:8px; border:1px solid #ccc; border-radius:4px; resize:none; height:50px; }
    .comment-submit {
      background:var(--primary-color); color:#fff; border:none; border-radius:4px; padding:8px 12px;
    }

    /* Sidebar connections/groups/events/hashtags */
    #sidebar-connections h2, #sidebar-groups h2, #sidebar-events h2, #sidebar-hashtags h2 { margin-bottom:15px; }
    .conn-card, .group-card, .event-card {
      background:#fff; border:1px solid var(--border-color); border-radius:8px;
      padding:12px; margin-bottom:12px; display:flex; align-items:center;
    }
    .conn-card img, .group-card img { width:50px; height:50px; border-radius:50%; margin-right:10px; }
    .conn-card .info, .group-card .info, .event-info { flex:1; }
    .group-card, .event-card { justify-content:space-between; }
    .group-card h4, .event-info h4 { margin-bottom:4px; }
    .group-card p, .event-info p, .conn-card p { font-size:0.85rem; color:var(--muted-color); margin-bottom:4px; }
    .conn-card button, .group-card button, .event-card button {
      background:var(--primary-color); color:#fff; border:none; border-radius:4px; padding:6px 12px;
    }
    .event-card { flex-wrap:wrap; }
    .event-info { margin-right:10px; }
    .hashtags-section { display:flex; gap:20px; flex-wrap:wrap; }
    .hashtags {
      background:#fff; border:1px solid var(--border-color); border-radius:8px;
      padding:12px; flex:1; min-width:200px;
    }
    .hashtags h4 { margin-bottom:8px; }
    .hashtags ul { list-style:none; }
    .hashtags li { margin-bottom:6px; font-size:0.9rem; }

    /* Network panel */
    #network .panel-header { margin-bottom:15px; }
    #network .panel-header input {
      width:100%; padding:8px; border:1px solid #ccc; border-radius:4px;
    }
    .connections-list { display:flex; flex-direction:column; }
    .connection-item {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 0; border-bottom:1px solid #eee;
    }
    .connection-item img { width:40px; height:40px; border-radius:50%; margin-right:10px; cursor:pointer; }
    .connection-item .info { flex:1; cursor:pointer; }
    .connection-item h4 { margin-bottom:2px; }
    .connection-item p { font-size:0.85rem; color:var(--muted-color); }
    .connect-btn {
      background:var(--primary-color); color:#fff; border:none; border-radius:4px; padding:6px 12px;
    }
    .connect-btn.pending { background:#aaa; }

    /* Jobs panel */
    .job-card {
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 0; border-bottom:1px solid #eee;
    }
    .job-logo { width:50px; height:50px; border-radius:8px; flex-shrink:0; }
    .job-info { flex:1; margin-left:10px; }
    .job-info h4 { margin-bottom:4px; }
    .job-info p { font-size:0.85rem; color:var(--muted-color); margin-bottom:4px; }
    .apply-btn {
      background:var(--primary-color); color:#fff; border:none; border-radius:4px; padding:6px 12px;
    }

    /* Messaging Panel */
    #messaging {
      height: calc(100vh - var(--nav-height)); overflow: hidden;
      padding: 20px;
    }
    .messaging-container {
      display: flex; height: 100%;
    }
    .conversations-list {
      width: 300px; border-right: 1px solid var(--border-color);
      overflow-y: auto; padding-right: 10px;
    }
    .conversation-item {
      display: flex; align-items: center; padding: 10px;
      cursor: pointer; border-radius: 4px;
    }
    .conversation-item:hover, .conversation-item.active {
      background: var(--bg-color);
    }

    .conversation-item.active {
      background-color: #e6f0ff; /* light blue */
    }
.share-wrapper {
  position: relative;
}

.share-popup {
  position: absolute;
  bottom: 100%;
  right: 0;
  display: flex;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 20px;
  padding: 6px;
  opacity: 0;
  visibility: hidden;
  transition: all 0.2s;
  z-index: 10;
  gap: 10px;
}

.share-popup i {
  font-size: 1.2rem;
  color: var(--primary-color);
  cursor: pointer;
}

.share-wrapper:hover .share-popup {
  opacity: 1;
  visibility: visible;
}

    .conversation-item img {
      width: 40px; height: 40px; border-radius: 50%;
      margin-right: 10px;
    }
    .conversation-item .info {
      flex: 1;
    }
    .chat-window {
      flex: 1; display: flex; flex-direction: column;
      margin-left: 20px;
    }
    .messages {
      flex: 1; overflow-y: auto; padding: 10px;
      display: flex; flex-direction: column;
    }
    .message {
      max-width: 60%; margin-bottom: 10px;
      padding: 8px 12px; border-radius: 20px;
    }
    .message.user {
      background: var(--primary-color); color: #fff;
      align-self: flex-end;
    }
    .message.other {
      background: #eee; color: var(--text-color);
      align-self: flex-start;
    }
    .chat-input-container {
      display: flex; margin-top: 10px;
    }
    .chat-input {
      flex: 1; padding: 8px; border: 1px solid #ccc;
      border-radius: 20px; font-size: 0.9rem;
    }
    .chat-send {
      margin-left: 10px; padding: 8px 12px;
      border: none; background: var(--primary-color);
      color: #fff; border-radius: 4px; cursor: pointer;
    }



    /* Notifications Panel */
    #notifications {
      height: calc(100vh - var(--nav-height)); overflow-y: auto;
      padding: 20px;
    }
    .notification {
      display: flex; align-items: center;
      background: var(--card-bg); border: 1px solid var(--border-color);
      border-radius: 8px; padding: 10px; margin-bottom: 10px;
      cursor: pointer; transition: background 0.2s;
    }
    .notification.read {
      background: #f0f0f0;
    }
    .notification img {
      width: 40px; height: 40px; border-radius: 50%;
      margin-right: 10px;
    }
    .notification .info {
      flex: 1; font-size: 0.9rem;
    }
    .notification .time {
      font-size: 0.8rem; color: var(--muted-color);
    }

    /* Me Panel */
    #me {
      max-width: 700px; margin: 0 auto;
      padding-bottom: 40px;
    }
    .cover-photo {
      width: 100%; height: 200px;
      background: url('https://loremflickr.com/800/200/nature?random=15') center/cover no-repeat;
      border-radius: 8px 8px 0 0; position: relative;
    }
    .me-profile-pic {
      width: 120px; height: 120px; border-radius: 50%;
      border: 4px solid #fff; position: absolute;
      bottom: -60px; left: 20px; background: #eee;
    }
    .me-info {
      margin-top: 80px; padding: 0 20px;
    }
    .me-info h2 { font-size: 1.6rem; }
    .me-info p { font-size: 0.9rem; color: var(--muted-color); margin: 5px 0; }
    .me-buttons {
      margin: 15px 20px;
    }
    .me-buttons button {
      background: var(--primary-color); color: #fff;
      border: none; border-radius: 4px;
      padding: 8px 16px; margin-right: 10px;
      cursor: pointer;
    }
    .me-stats {
      padding: 0 20px; font-size: 0.9rem; color: var(--text-color);
    }
    .me-about {
      padding: 15px 20px; background: #fff; border-radius: 8px;
      margin: 15px 20px;
    }
    .activity-tabs {
      display: flex; border-bottom: 1px solid var(--border-color);
      margin: 15px 20px;
    }
    .activity-tabs button {
      flex: 1; padding: 10px; background: none; border: none;
      cursor: pointer; font-weight: 500; color: var(--muted-color);
      transition: color 0.2s, border-bottom 0.2s;
    }
    .activity-tabs button.active {
      color: var(--text-color); border-bottom: 3px solid var(--primary-color);
    }
    .activity-content {
      padding: 10px 20px; min-height: 100px;
      background: #fff; border-radius: 8px;
      margin: 0 20px;
    }

    /* Profile View Panel */
    #profile {
      max-width: 700px; margin: 0 auto;
      padding-bottom: 40px;
    }
    #profile .cover-photo {
      width: 100%; height: 200px;
      background-size: cover; background-position: center;
      border-radius: 8px 8px 0 0; position: relative;
    }
    #profile .profile-pic {
      width: 120px; height: 120px; border-radius: 50%;
      border: 4px solid #fff; position: absolute;
      bottom: -60px; left: 20px; background: #eee;
    }
    #profile .info {
      margin-top: 80px; padding: 0 20px;
    }
    #profile .info h2 { font-size: 1.6rem; }
    #profile .info p { font-size: 0.9rem; color: var(--muted-color); margin: 5px 0; }
    #profile .info .headline { font-style: italic; }
    #profile .info .location { margin-bottom: 10px; }
    #profile .info .about {
      background: #fff; border-radius: 8px; padding: 15px;
      margin: 15px 0;
    }
    #profile .info .experience {
      background: #fff; border-radius: 8px; padding: 15px;
      margin: 15px 0;
    }
    #profile .info .experience ul {
      list-style: none; padding-left: 0;
    }
    #profile .info .experience li {
      margin-bottom: 10px;
    }
    #profile .profile-buttons {
      padding: 0 20px; margin-bottom: 15px;
    }
    #profile .profile-buttons button {
      background: var(--primary-color); color: #fff;
      border: none; border-radius: 4px;
      padding: 8px 16px; margin-right: 10px;
      cursor: pointer;
    }
    #profile .back-feed {
      display: inline-block; margin: 0 20px 20px;
      color: var(--primary-color);
    }

    /* Right Sidebar */
    .rightbar {
      width:var(--sidebar-width); background:#fff; border-left:1px solid var(--border-color);
      padding:20px; height:calc(100vh - var(--nav-height)); position:sticky; top:var(--nav-height);
      overflow-y:auto;
    }
    .rightbar .section { margin-bottom:30px; }
    .rightbar h3 { font-size:1.1rem; margin-bottom:15px; }
    .people-suggestions .person {
      display:flex; align-items:center; margin-bottom:12px;
    }
    .people-suggestions img { width:40px; height:40px; border-radius:50%; margin-right:10px; cursor:pointer; }
    .people-suggestions .info { flex:1; cursor:pointer; }
    .people-suggestions .info h4 { font-size:0.95rem; margin-bottom:2px; }
    .people-suggestions .info p { font-size:0.8rem; color:var(--muted-color); }
    .people-suggestions button {
      background:var(--primary-color); color:#fff; border:none; border-radius:4px; padding:5px 10px;
    }
    .trending-news ul { list-style:none; }
    .trending-news li {
      display:flex; align-items:center; margin-bottom:10px; font-size:0.9rem;
    }
    .trending-news li i { color:var(--primary-color); margin-right:8px; }

    /* Fix reaction-button only */
.reaction-button {
  background: none;
  border: none;
  color: var(--muted-color);
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 5px 10px;
  border-radius: 4px;
  transition: color 0.2s;
}

/* Ensure comment/share buttons have no unwanted box */
.post-actions button:not(.reaction-button) {
  background: none;
  border: none;
  color: var(--muted-color);
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 0.9rem;
  cursor: pointer;
}


    /* New Post Modal */
    .modal {
      display:none; position:fixed; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:2000;
    }
    .modal-content {
      background:#fff; border-radius:8px; padding:20px; width:400px; max-width:90%; position:relative;
    }
    .modal-content h3 { margin-bottom:10px; }
    .modal-content textarea {
      width:100%; height:100px; padding:8px; border:1px solid #ccc; border-radius:4px; resize:none;
    }
    .modal-content input[type="file"] { margin:10px 0; }
    .modal-content .buttons { text-align:right; margin-top:10px; }
    .modal-content .buttons button {
      background:var(--primary-color); color:#fff; border:none; border-radius:4px; padding:8px 16px;
      margin-left:10px;
    }
    .modal-content .close {
      position:absolute; top:10px; right:10px; font-size:1.2rem; cursor:pointer;
    }
    /* Ensure labels appear on new lines */
label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
}

/* Add some margin to inputs and textareas for better spacing */
input, textarea {
  width: 100%;
  padding: 8px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">MyWebApp</div>
    <div class="search-container">
      <input id="search" placeholder="Search people…" />
      <div id="suggestions" class="search-suggestions"></div>
    </div>
    <ul class="nav-icons">
      <li><a data-tab="feed" class="active"><i class="fas fa-home"></i><span>Home</span></a></li>
      <li><a data-tab="network"><i class="fas fa-user-friends"></i><span>Network</span></a></li>
      <li><a data-tab="jobs"><i class="fas fa-briefcase"></i><span>Jobs</span></a></li>
      <li><a data-tab="messaging"><i class="fas fa-comment-dots"></i><span>Messaging</span></a></li>
      <li><a data-tab="notifications"><i class="fas fa-bell"></i><span>Notifications</span></a></li>
      <li><a data-tab="me"><i class="fas fa-user-circle"></i><span>Me</span></a></li>
    </ul>
  </nav>

  <div class="layout">
    <!-- Left Sidebar -->
    <aside class="sidebar">
      <div class="profile-preview">
        <img src="https://loremflickr.com/70/70/face?random=1" alt="Profile"/>
        <h3>John Doe</h3><p>Web Developer</p>
      </div>
      <ul class="shortcuts">
        <li><a class="sidebar-link active" data-section="feed"><i class="fas fa-home"></i>Feed</a></li>
        <li><a class="sidebar-link" data-section="sidebar-connections"><i class="fas fa-user-friends"></i>Connections</a></li>
        <li><a class="sidebar-link" data-section="sidebar-groups"><i class="fas fa-users"></i>Groups</a></li>
        <li><a class="sidebar-link" data-section="sidebar-events"><i class="fas fa-calendar-alt"></i>Events</a></li>
        <li><a class="sidebar-link" data-section="sidebar-hashtags"><i class="fas fa-hashtag"></i>Hashtags</a></li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="feed">
      <!-- Feed Panel -->
      <div id="feed" class="panel active">
        <div class="card start-post" id="start-post">
          <img src="https://loremflickr.com/50/50/face?random=2" alt="You"/>
          <input readonly placeholder="Start a post"/>
        </div>
        <!-- Sample Post 1 -->
        <div class="card post" data-post-id="1">
          <div class="post-header" data-id="janeSmith">
            <img src="https://loremflickr.com/40/40/face?random=3"/>
            <div class="user-info"><h4>Jane Smith</h4><p>Full-Stack Developer</p></div>
          </div>
          <img class="post-image" src="https://loremflickr.com/700/300/nature?random=1"/>
          <div class="post-content">Excited to share my latest project! Check out the live demo and let me know what you think.</div>
          <div class="post-actions">
            <div class="reaction-wrapper">
              <button class="reaction-button"><i class="fas fa-thumbs-up"></i><span>Like</span><span class="reaction-count">0</span></button>
              <div class="reaction-popup">
                <div class="reaction-option" data-type="like">👍<span>Like</span></div>
                <div class="reaction-option" data-type="celebrate">❤️<span>Celebrate</span></div>
                <div class="reaction-option" data-type="support">👏<span>Support</span></div>
                <div class="reaction-option" data-type="insightful">🔥<span>Insightful</span></div>
                <div class="reaction-option" data-type="curious">🤯<span>Curious</span></div>
              </div>
            </div>
            <button><i class="fas fa-comment"></i>Comment</button>
            <div class="share-wrapper">
              <button class="share-button"><i class="fas fa-share"></i>Share</button>
              <div class="share-popup">
                <i class="fab fa-facebook-f"></i>
                <i class="fab fa-twitter"></i>
                <i class="fab fa-linkedin-in"></i>
                <i class="fab fa-whatsapp"></i>
              </div>
            </div>

          </div>
          <div class="comment-section">
            <div class="comment-list">
              <div class="comment">
                <img class="comment-avatar" src="https://loremflickr.com/30/30/face?random=5"/>
                <div class="comment-body">
                  <span class="comment-user">Alice Johnson</span> <span class="comment-headline">Software Engineer</span>
                  <p class="comment-text">Great work, Jane!</p>
                  <span class="comment-time">10m ago</span>
                </div>
              </div>
              <div class="comment">
                <img class="comment-avatar" src="https://loremflickr.com/30/30/face?random=6"/>
                <div class="comment-body">
                  <span class="comment-user">Bob Williams</span> <span class="comment-headline">Data Analyst</span>
                  <p class="comment-text">Congrats on the launch.</p>
                  <span class="comment-time">5m ago</span>
                </div>
              </div>
            </div>
            <div class="comment-form">
              <textarea class="comment-input" placeholder="Write a comment..."></textarea>
              <button class="comment-submit">Post</button>
            </div>
          </div>
        </div>
        <!-- Sample Post 2 -->
        <div class="card post" data-post-id="2">
          <div class="post-header" data-id="michaelLee">
            <img src="https://loremflickr.com/40/40/face?random=4"/>
            <div class="user-info"><h4>Michael Lee</h4><p>Software Architect</p></div>
          </div>
          <img class="post-image" src="https://loremflickr.com/700/300/tech?random=2"/>
          <div class="post-content">Had a great time speaking at the tech conference today! Thanks for everyone who joined.</div>
          <div class="post-actions">
            <div class="reaction-wrapper">
              <button class="reaction-button"><i class="fas fa-thumbs-up"></i><span>Like</span><span class="reaction-count">0</span></button>
              <div class="reaction-popup">
                <div class="reaction-option" data-type="like">👍<span>Like</span></div>
                <div class="reaction-option" data-type="celebrate">❤️<span>Celebrate</span></div>
                <div class="reaction-option" data-type="support">👏<span>Support</span></div>
                <div class="reaction-option" data-type="insightful">🔥<span>Insightful</span></div>
                <div class="reaction-option" data-type="curious">🤯<span>Curious</span></div>
              </div>
            </div>
            <button><i class="fas fa-comment"></i>Comment</button>
            <div class="share-wrapper">
              <button class="share-button"><i class="fas fa-share"></i>Share</button>
              <div class="share-popup">
                <i class="fab fa-facebook-f"></i>
                <i class="fab fa-twitter"></i>
                <i class="fab fa-linkedin-in"></i>
                <i class="fab fa-whatsapp"></i>
              </div>
            </div>
        </div>
          <div class="comment-section">
            <div class="comment-list">
              <div class="comment">
                <img class="comment-avatar" src="https://loremflickr.com/30/30/face?random=7"/>
                <div class="comment-body">
                  <span class="comment-user">Carol Martinez</span> <span class="comment-headline">UI/UX Designer</span>
                  <p class="comment-text">Amazing talk!</p>
                  <span class="comment-time">1h ago</span>
                </div>
              </div>
            </div>
            <div class="comment-form">
              <textarea class="comment-input" placeholder="Write a comment..."></textarea>
              <button class="comment-submit">Post</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Connections Section -->
      <div id="sidebar-connections" class="panel">
        <h2>Connections</h2>
        <div class="conn-card"><img src="https://loremflickr.com/50/50/face?random=11"/><div class="info"><h4>Charlie Parker</h4><p>Project Manager</p></div><button>Message</button></div>
        <div class="conn-card"><img src="https://loremflickr.com/50/50/face?random=12"/><div class="info"><h4>Dana Scott</h4><p>QA Engineer</p></div><button>Message</button></div>
        <div class="conn-card"><img src="https://loremflickr.com/50/50/face?random=13"/><div class="info"><h4>Erin Flynn</h4><p>DevOps Engineer</p></div><button>Message</button></div>
        <div class="conn-card"><img src="https://loremflickr.com/50/50/face?random=14"/><div class="info"><h4>Frank Moore</h4><p>Business Analyst</p></div><button>Message</button></div>
        <div class="conn-card"><img src="https://loremflickr.com/50/50/face?random=15"/><div class="info"><h4>Gina Lopez</h4><p>Graphic Designer</p></div><button>Message</button></div>
      </div>

      <!-- Groups Section -->
      <div id="sidebar-groups" class="panel">
        <h2>Groups You Follow</h2>
        <div class="group-card"><div class="info"><h4>Web Developers</h4><p>Group for web dev enthusiasts</p></div><button>View Group</button></div>
        <div class="group-card"><div class="info"><h4>Data Science</h4><p>Discuss data trends & tools</p></div><button>Leave Group</button></div>
        <div class="group-card"><div class="info"><h4>UX/UI Design</h4><p>Share design tips and resources</p></div><button>View Group</button></div>
      </div>

      <!-- Events Section -->
      <div id="sidebar-events" class="panel">
        <h2>Upcoming Events</h2>
        <div class="event-card"><div class="event-info"><h4>React Conference</h4><p>July 20, 2025</p></div><button>RSVP</button></div>
        <div class="event-card"><div class="event-info"><h4>Data Summit</h4><p>August 5, 2025</p></div><button>Join</button></div>
        <div class="event-card"><div class="event-info"><h4>UX Workshop</h4><p>September 10, 2025</p></div><button>RSVP</button></div>
      </div>

      <!-- Hashtags Section -->
      <div id="sidebar-hashtags" class="panel">
        <h2>Hashtags</h2>
        <div class="hashtags-section">
          <div class="hashtags"><h4>Followed</h4><ul><li>#webdevelopment</li><li>#datascience</li><li>#uxdesign</li></ul></div>
          <div class="hashtags"><h4>Trending</h4><ul><li>#AI</li><li>#CloudComputing</li><li>#Cybersecurity</li></ul></div>
        </div>
      </div>

      <!-- Network Panel -->
      <div id="network" class="panel">
        <div class="panel-header"><input id="network-search" placeholder="Search people..."/></div>
        <div class="connections-list">
          <div class="connection-item" data-id="aliceJohnson"><img src="https://loremflickr.com/40/40/face?random=5"/><div class="info"><h4>Alice Johnson</h4><p>Software Engineer</p></div><button class="connect-btn">Connect</button></div>
          <div class="connection-item" data-id="bobWilliams"><img src="https://loremflickr.com/40/40/face?random=6"/><div class="info"><h4>Bob Williams</h4><p>Data Analyst</p></div><button class="connect-btn">Connect</button></div>
          <div class="connection-item" data-id="carolMartinez"><img src="https://loremflickr.com/40/40/face?random=7"/><div class="info"><h4>Carol Martinez</h4><p>UI/UX Designer</p></div><button class="connect-btn">Connect</button></div>
          <div class="connection-item" data-id="davidBrown"><img src="https://loremflickr.com/40/40/face?random=8"/><div class="info"><h4>David Brown</h4><p>Product Owner</p></div><button class="connect-btn">Connect</button></div>
          <div class="connection-item" data-id="evaFriend"><img src="https://loremflickr.com/40/40/face?random=9"/><div class="info"><h4>Eva Friend</h4><p>Marketing Manager</p></div><button class="connect-btn">Connect</button></div>
        </div>
      </div>

      <!-- Jobs Panel -->
      <div id="jobs" class="panel">
        <div class="job-card"><img class="job-logo" src="https://loremflickr.com/50/50/company?random=9"/><div class="job-info"><h4>Frontend Developer</h4><p>Acme Corp · New York, NY</p><p>Build amazing user interfaces with React.js.</p></div><button class="apply-btn">Apply</button></div>
        <div class="job-card"><img class="job-logo" src="https://loremflickr.com/50/50/company?random=10"/><div class="job-info"><h4>Data Scientist</h4><p>DataWorks · San Francisco, CA</p><p>Analyze large datasets to drive business decisions.</p></div><button class="apply-btn">Apply</button></div>
        <div class="job-card"><img class="job-logo" src="https://loremflickr.com/50/50/company?random=11"/><div class="job-info"><h4>Product Manager</h4><p>InnovateX · Remote</p><p>Lead cross-functional teams to deliver products.</p></div><button class="apply-btn">Apply</button></div>
      </div>

      <!-- Messaging Panel -->
      <div id="messaging" class="panel">
        <div class="messaging-container">
          <div class="conversations-list"></div>
            <div class="chat-window">
              <h3 id="chat-title" style="margin: 0 0 10px 0; padding-left: 5px;"></h3>
              <div class="messages"></div>
            <div class="chat-input-container">
              <input class="chat-input" placeholder="Type a message..."/>
              <button class="chat-send">Send</button>
            </div>
          </div>
        </div>
      </div>

      <div id="group-overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:3000;">
      <div style="background:#fff; padding:20px; border-radius:8px; width:300px; position:relative;">
        <span id="group-close" style="position:absolute; top:10px; right:12px; cursor:pointer; font-weight:bold;">&times;</span>
        <h3 id="group-name"></h3>
        <p id="group-desc"></p>
        <p><strong>Members:</strong> <span id="group-count"></span></p>
      </div>
    </div>


      <!-- Notifications Panel -->
      <div id="notifications" class="panel"></div>

      <!-- Me Panel -->
      <div id="me" class="panel">
        <div class="cover-photo">
          <img src="https://loremflickr.com/120/120/face?random=20" class="me-profile-pic" alt="Profile Pic"/>
        </div>
        <div class="me-info">
          <h2>John Doe</h2>
          <p>Senior Web Developer</p>
          <p>San Francisco, CA</p>
        </div>
        <div class="me-buttons">
          <button>Edit Profile</button>
          <button>View Dashboard</button>
        </div>
        <div class="me-stats">5 connections</div>
        <div class="me-about">
          <h3>About</h3>
          <p>I am a seasoned web developer with a passion for building performant, accessible applications.</p>
        </div>
        <div class="activity-tabs">
          <button data-act="posts" class="active">Posts</button>
          <button data-act="reactions">Reactions</button>
          <button data-act="following">Following</button>
        </div>
        <div class="activity-content" id="activity-content">
          <p>No recent posts to display.</p>
        </div>
      </div>


      <div id="dashboard" class="panel">
      <h2 style="margin-bottom: 15px;">Dashboard</h2>
      <p>This is your private dashboard where you can track stats, activities, or saved jobs (sample text).</p>
      <button onclick="showPanel('me')" style="margin-top: 20px; padding: 8px 16px; background: var(--primary-color); color: white; border: none; border-radius: 4px;">← Back to Me</button>
    </div>




      <!-- Profile View Panel -->
      <div id="profile" class="panel">
        <a class="back-feed">&larr; Back to Feed</a>
        <div class="cover-photo" id="profile-cover"></div>
        <img id="profile-pic" class="profile-pic" alt="Profile Pic"/>
        <div class="info">
          <h2 id="profile-name"></h2>
          <p class="headline" id="profile-headline"></p>
          <p class="location" id="profile-location"></p>
        </div>
        <div class="profile-buttons">
          <button id="profile-connect">Connect</button>
          <button id="profile-message">Message</button>
        </div>
        <div class="info">
          <div class="about" id="profile-about">
            <h3>About</h3>
            <p></p>
          </div>
          <div class="experience" id="profile-experience">
            <h3>Experience</h3>
            <ul></ul>
          </div>
        </div>
      </div>

    </main>

    <!-- Right Sidebar -->
    <aside class="rightbar">
      <div class="section people-suggestions">
        <h3>People You May Know</h3>
        <div class="person"><img src="https://loremflickr.com/40/40/face?random=12"/><div class="info"><h4>Ria Seth</h4><p>Engineer @ TCS</p></div><button class="connect-btn">Connect</button></div>
        <div class="person"><img src="https://loremflickr.com/40/40/face?random=13"/><div class="info"><h4>Tia Gupta</h4><p>Designer @ Adobe</p></div><button class="connect-btn">Connect</button></div>
        <div class="person"><img src="https://loremflickr.com/40/40/face?random=14"/><div class="info"><h4>Nick Rai</h4><p>Dev Advocate @ Google</p></div><button class="connect-btn">Connect</button></div>
        <div class="person"><img src="https://loremflickr.com/40/40/face?random=15"/><div class="info"><h4>Aliya Qureshi</h4><p>Product Manager @ Amazon</p></div><button class="connect-btn">Connect</button></div>
        <div class="person"><img src="https://loremflickr.com/40/40/face?random=16"/><div class="info"><h4>Eva Friend</h4><p>Marketing Manager</p></div><button class="connect-btn">Connect</button></div>
      </div>
      <div class="section trending-news">
        <h3>Trending News</h3>
        <ul>
          <li><i class="fas fa-chart-line"></i>Tech stocks rally globally</li>
          <li><i class="fas fa-earth-americas"></i>Global climate summit updates</li>
          <li><i class="fas fa-microchip"></i>New AI breakthroughs announced</li>
        </ul>
      </div>
    </aside>
  </div>

  <!-- Event Info Modal -->
  <div id="event-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="event-title">Event Title</h3>
      <p id="event-desc">Details about the event will appear here.</p>
      <button onclick="document.getElementById('event-modal').style.display='none'" style="margin-top:10px; padding:8px 16px; background:var(--primary-color); color:#fff; border:none; border-radius:4px;">Close</button>
    </div>
  </div>


  <!-- New Post Modal -->
  <div id="new-post-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3>Create Post</h3>
      <textarea id="new-post-text" placeholder="What's on your mind?"></textarea>
      <input type="file" id="new-post-file" accept="image/*" />
      <div class="buttons">
        <button id="cancel-post">Cancel</button>
        <button id="submit-post">Post</button>
      </div>
    </div>
  </div>

  <!-- Apply Modal -->
  <div id="apply-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="modal-job-title">Apply</h3>
      <div id="modal-form">
        <label for="exp-input">Experience:</label>
        <input id="exp-input" type="number" min="0" />

        <label for="loc-input">Location:</label>
        <input id="loc-input" type="text" />

        <button class="submit-app">Submit</button>
      </div>

      <div id="application-confirm" style="display:none;text-align:center;font-weight:bold;margin-top:20px;">Application Submitted</div>
    </div>
  </div>

  <div id="event-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="event-title"></h3>
      <p id="event-desc" style="white-space:pre-line;"></p>
      <div style="text-align:right;">
        <button onclick="document.getElementById('event-modal').style.display='none'" style="margin-top:10px; padding:8px 16px; background:var(--primary-color); color:#fff; border:none; border-radius:4px;">Close</button>
      </div>
    </div>
  </div>

<div id="edit-profile-modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3>Edit Profile</h3>
    
    <!-- Edit Headline -->
    <label for="edit-headline">Headline:</label>
    <input id="edit-headline" type="text" />
    
    <!-- Edit Location -->
    <label for="edit-location">Location:</label>
    <input id="edit-location" type="text" />
    
    <!-- Edit About Section -->
    <label for="edit-about">About:</label>
    <textarea id="edit-about" rows="4"></textarea>
    
    <div style="text-align:right; margin-top:10px;">
      <button id="save-profile" style="padding:8px 16px; background:var(--primary-color); color:white; border:none; border-radius:4px;">Save</button>
    </div>
  </div>
</div>





  <script>
    const peopleList = [];
    const userPosts = [];
    const userReactions = [];
    //const userReactions = {}; 



document.querySelectorAll('.people-suggestions .person').forEach(person => {
  const name = person.querySelector('h4')?.innerText.trim();
  const headline = person.querySelector('p')?.innerText.trim();
  if (name) peopleList.push({ name, headline });
});


document.querySelectorAll('#sidebar-connections .conn-card').forEach(card => {
  const name = card.querySelector('h4')?.innerText.trim();
  const headline = card.querySelector('p')?.innerText.trim();
  if (name) peopleList.push({ name, headline });
});

document.querySelectorAll('#network .connection-item').forEach(item => {
  const name = item.querySelector('h4')?.innerText.trim();
  const headline = item.querySelector('p')?.innerText.trim();
  if (name) peopleList.push({ name, headline });
});

document.querySelector('.me-buttons button:nth-child(2)').addEventListener('click', () => {
  showPanel('dashboard');
});


    // Panel switching
    const panels = document.querySelectorAll('.panel');
    function showPanel(id){
      panels.forEach(p=>p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('.sidebar-link').forEach(a=>a.classList.remove('active'));
      const sb = document.querySelector(`.sidebar-link[data-section="${id}"]`);
      if(sb) sb.classList.add('active');
      document.querySelectorAll('.nav-icons a').forEach(a=>a.classList.remove('active'));
      const nav = document.querySelector(`.nav-icons a[data-tab="${id}"]`);
      if(nav) nav.classList.add('active');
      if (id==='messaging') initMessaging(true);
      if (id==='notifications') initNotifications();
    }
    document.querySelectorAll('.nav-icons a[data-tab]').forEach(a=>a.addEventListener('click',()=>showPanel(a.dataset.tab)));
    document.querySelectorAll('.sidebar-link').forEach(a=>a.addEventListener('click',e=>{ e.preventDefault(); showPanel(a.dataset.section); }));

    // Show Event Info Modal
    document.querySelectorAll('.event-card button').forEach(btn => {
      btn.addEventListener('click', () => {
        const card = btn.closest('.event-card');
        const title = card.querySelector('h4')?.innerText || 'Event';
        const date = card.querySelector('p')?.innerText || '';
        const desc = btn.innerText.includes('RSVP') ? 'You have RSVP’d for this event.' : 'You have joined the event.';
        
        document.getElementById('event-title').innerText = title;
        document.getElementById('event-desc').innerText = `${desc} \nEvent Date: ${date}`;
        document.getElementById('event-modal').style.display = 'flex';
      });
    });


    // Modal close
    document.querySelector('#event-modal .close').addEventListener('click', () => {
      document.getElementById('event-modal').style.display = 'none';
    });


    // New Post Modal
    const modal = document.getElementById('new-post-modal'),
          startPost = document.getElementById('start-post'),
          closeModal = modal.querySelector('.close'),
          cancelPost = document.getElementById('cancel-post'),
          submitPost = document.getElementById('submit-post'),
          newText = document.getElementById('new-post-text'),
          newFile = document.getElementById('new-post-file'),
          feed = document.getElementById('feed');

    startPost.addEventListener('click', ()=> modal.style.display='flex');
    closeModal.addEventListener('click', ()=> modal.style.display='none');
    cancelPost.addEventListener('click', ()=> { modal.style.display='none'; newText.value=''; newFile.value=''; });
    window.addEventListener('click', e=>{ if(e.target===modal) modal.style.display='none'; });




    // Comments helper
    function commentHTML(name,headline,text,time='Just now'){
      return `<div class="comment"><img class="comment-avatar" src="https://loremflickr.com/30/30/face?random=${Math.floor(Math.random()*50)}"/><div class="comment-body"><span class="comment-user">${name}</span> <span class="comment-headline">${headline}</span><p class="comment-text">${text}</p><span class="comment-time">${time}</span></div></div>`;
    }

    // Submit new post
    submitPost.addEventListener('click', ()=>{
      const text=newText.value.trim(), file=newFile.files[0];
      if(!text && !file) return alert('Enter text or image');
      const card=document.createElement('div'); card.className='card post';
      const header=`<div class="post-header"><img src="https://loremflickr.com/40/40/face?random=2"/><div class="user-info"><h4>John Doe</h4><p>Web Developer</p></div></div>`;
      let imgHTML='';
      if(file){
        const url=URL.createObjectURL(file);
        imgHTML=`<img class="post-image" src="${url}"/>`;
      }
      const content=`<div class="post-content">${text}</div>`;
      const actions=`<div class="post-actions">
        <div class="reaction-wrapper">
          <button class="reaction-button"><i class="fas fa-thumbs-up"></i><span>Like</span><span class="reaction-count">0</span></button>
          <div class="reaction-popup">
            <div class="reaction-option" data-type="like">👍<span>Like</span></div>
            <div class="reaction-option" data-type="celebrate">❤️<span>Celebrate</span></div>
            <div class="reaction-option" data-type="support">👏<span>Support</span></div>
            <div class="reaction-option" data-type="insightful">🔥<span>Insightful</span></div>
            <div class="reaction-option" data-type="curious">🤯<span>Curious</span></div>
          </div>
        </div>
        <button><i class="fas fa-comment"></i>Comment</button>
        <div class="share-wrapper">
        <button class="share-button"><i class="fas fa-share"></i>Share</button>
        <div class="share-popup">
          <i class="fab fa-facebook-f"></i>
          <i class="fab fa-twitter"></i>
          <i class="fab fa-linkedin-in"></i>
          <i class="fab fa-whatsapp"></i>
        </div>
      </div>

      </div>`;
      const commentsSection=`<div class="comment-section">
        <div class="comment-list">
          ${commentHTML('Alice Johnson','Software Engineer','Nice post!')}
          ${commentHTML('Bob Williams','Data Analyst','Thanks for sharing!')}
        </div>
        <div class="comment-form"><textarea class="comment-input" placeholder="Write a comment..."></textarea><button class="comment-submit">Post</button></div>
      </div>`;
      card.innerHTML = header + imgHTML + content + actions + commentsSection;
      feed.insertBefore(card, feed.children[1]);
      initShareHover(card);

      initPost(card); initComments(card);
      modal.style.display='none'; newText.value=''; newFile.value='';
      userPosts.push(card.outerHTML);


      // Live update if "Posts" tab is currently active
      const postsBtn = document.querySelector('#me .activity-tabs button[data-act="posts"]');
      const mePanel = document.getElementById('me');
      if (postsBtn.classList.contains('active') && mePanel.classList.contains('active')) {
        document.getElementById('activity-content').innerHTML = userPosts.join('');
      }



    });

    // Reactions and comments init
    const reactionTypes = { like:{emoji:'👍',label:'Like'}, celebrate:{emoji:'❤️',label:'Celebrate'}, support:{emoji:'👏',label:'Support'}, insightful:{emoji:'🔥',label:'Insightful'}, curious:{emoji:'🤯',label:'Curious'} };
    const postReactions = {};
    function showGroupOverlay(name, desc, count) {
    document.getElementById('group-name').innerText = name;
    document.getElementById('group-desc').innerText = desc;
    document.getElementById('group-count').innerText = count;
    document.getElementById('group-overlay').style.display = 'flex';
  }
  document.getElementById('group-close').addEventListener('click', () => {
    document.getElementById('group-overlay').style.display = 'none';
  });

function initPost(post){
  const pid = Date.now() + Math.random();
  postReactions[pid] = { counts: {}, user: null };
  Object.keys(reactionTypes).forEach(t => postReactions[pid].counts[t] = 0);

  post.querySelectorAll('.reaction-option').forEach(opt => {
    opt.addEventListener('click', () => {
      const type = opt.dataset.type;
      const st = postReactions[pid];
      const prev = st.user;

      if (prev === type) {
        st.counts[type]--;
        st.user = null;
      } else {
        if (prev) st.counts[prev]--;
        st.counts[type]++;
        st.user = type;
      }

      const btn = post.querySelector('.reaction-button');
      if (st.user) {
        const r = reactionTypes[st.user];
        btn.innerHTML = `${r.emoji}<span>${r.label}</span><span class="reaction-count">${st.counts[st.user]}</span>`;
      } else {
        btn.innerHTML = `<i class="fas fa-thumbs-up"></i><span>Like</span><span class="reaction-count">0</span>`;
      }

      const contentText = post.querySelector('.post-content')?.innerText;
      const index = userReactions.findIndex(r => r.includes(contentText));
      const html = post.outerHTML;

      if (index !== -1) {
        userReactions[index] = html;
      } else {
        userReactions.push(html);
      }

      // Live update if "Reactions" tab is currently active
      const reactBtn = document.querySelector('#me .activity-tabs button[data-act="reactions"]');
      const mePanel = document.getElementById('me');
      if (reactBtn.classList.contains('active') && mePanel.classList.contains('active')) {
        document.getElementById('activity-content').innerHTML = userReactions.join('');
      }

    });
  });
}

    function initComments(post){
          // Scroll to and focus comment box on "Comment" button click
    post.querySelector('.post-actions button:nth-child(2)').addEventListener('click', () => {
      const ta = post.querySelector('.comment-input');
      ta.scrollIntoView({ behavior: 'smooth', block: 'center' });
      ta.focus();
    });

      post.querySelector('.comment-submit').addEventListener('click',()=>{
        const ta=post.querySelector('.comment-input'), txt=ta.value.trim(); if(!txt)return;
        const list=post.querySelector('.comment-list');
        list.insertAdjacentHTML('beforeend', commentHTML('John Doe','Web Developer',txt,'Just now'));
        ta.value='';
      });
    }
    document.querySelectorAll('.post').forEach(p=>{ initPost(p); initComments(p); });

    // Sidebar connections: message
  document.querySelectorAll('.conn-card button').forEach(btn => {
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    const card = btn.closest('.conn-card');
    const name = card.querySelector('h4').innerText;
    const img = card.querySelector('img').src;

    // Show messaging panel
    showPanel('messaging');
    initMessaging();

    // Check if conversation already exists
    const existing = Array.from(document.querySelectorAll('.conversation-item'))
      .find(c => c.querySelector('strong')?.innerText === name);

    if (existing) existing.click();
    else {
      // Add temporary conversation and click
      const newConv = { id: Date.now(), name, img, messages: [{ sender: 'other', text: 'Hi there!' }] };
      const convList = document.querySelector('.conversations-list');
      const div = document.createElement('div');
      div.className = 'conversation-item active';
      div.innerHTML = `<img src="${img}"/><div class="info"><strong>${name}</strong><p>${newConv.messages[0].text}</p></div>`;
      div.addEventListener('click', () => {
        document.querySelectorAll('.conversation-item').forEach(x => x.classList.remove('active'));
        div.classList.add('active');
        loadConv(newConv);
      });
      convList.appendChild(div);
      div.click();
    }
  });
});


// Group buttons
// Group buttons logic
document.querySelectorAll('.group-card button').forEach(btn => {
  btn.addEventListener('click', () => {
    const card = btn.closest('.group-card');
    const name = card.querySelector('h4')?.innerText || 'Group';
    const desc = card.querySelector('p')?.innerText || '';

    if (btn.innerText === 'Leave Group') {
      card.remove();
    } else if (btn.innerText === 'View Group') {
      showGroupOverlay(name, desc, Math.floor(Math.random() * 500 + 20));

      //showModal(name, desc + '\n\nNumber of members: ' + Math.floor(Math.random() * 500 + 20));
    }
  });
});


// Event buttons
document.querySelectorAll('.event-card button').forEach(btn => {
  btn.addEventListener('click', () => {
    const card = btn.closest('.event-card');
    const title = card.querySelector('h4').innerText;
    const date = card.querySelector('p').innerText;
    btn.disabled = true;
    btn.innerText = 'Confirmed';
    showModal(title, `You have successfully ${btn.innerText.toLowerCase()} for this event on ${date}.`);
  });
});



    // Connect buttons rightbar & network
    document.querySelectorAll('.connect-btn').forEach(btn=>btn.addEventListener('click',()=>{ btn.innerText='Pending'; btn.classList.add('pending'); }));
    document.querySelectorAll('#network .connect-btn').forEach(btn=>btn.addEventListener('click',()=>{ btn.innerText='Pending'; btn.classList.add('pending'); }));

    // Network search & profile click
    document.getElementById('network-search').addEventListener('input',e=>{
      const v=e.target.value.toLowerCase();
      document.querySelectorAll('#network .connection-item').forEach(item=>{
        const name=item.querySelector('h4').innerText.toLowerCase(), title=item.querySelector('p').innerText.toLowerCase();
        item.style.display=(name.includes(v)||title.includes(v))?'flex':'none';
      });
    });

    // Jobs apply modal
    const jobModal = document.getElementById('apply-modal'),
          jobClose = jobModal.querySelector('.close'),
          jobForm = document.getElementById('modal-form'),
          jobConfirm = document.getElementById('application-confirm'),
          jobTitle = document.getElementById('modal-job-title');
    let currentApplyBtn = null;
    document.querySelectorAll('.apply-btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const title=btn.previousElementSibling.querySelector('h4').innerText;
        jobTitle.innerText=`Apply for "${title}"`;
        jobForm.style.display='block'; jobConfirm.style.display='none';
        jobModal.style.display='flex'; currentApplyBtn=btn;
      });
    });
    jobClose.addEventListener('click',()=>jobModal.style.display='none');
    jobModal.addEventListener('click',e=>{ if(e.target===jobModal) jobModal.style.display='none'; });
    jobModal.querySelector('.submit-app').addEventListener('click',()=>{
      jobForm.style.display='none'; jobConfirm.style.display='block';
      if(currentApplyBtn){ currentApplyBtn.innerText='Applied'; currentApplyBtn.disabled=true; }
    });

    // Messaging panel
    let messagingInit=false;
    function initMessaging(force = false){
       if (messagingInit && !force) return; messagingInit=true;
      const convListEl=document.querySelector('.conversations-list'),
            messagesEl=document.querySelector('.messages'),
            inputEl=document.querySelector('.chat-input'),
            sendBtn=document.querySelector('.chat-send');
      const convs=[
        {id:1,name:'Alice Johnson',img:'https://loremflickr.com/40/40/face?random=5',messages:[{sender:'other',text:'Hello!'}]},
        {id:2,name:'Bob Williams',img:'https://loremflickr.com/40/40/face?random=6',messages:[{sender:'other',text:'Meeting at 3 PM.'}]},
        {id:3,name:'Carol Martinez',img:'https://loremflickr.com/40/40/face?random=7',messages:[{sender:'other',text:'Please review the designs.'}]}
      ];
      let current=null;
      function renderConvs(){
        convListEl.innerHTML='';
        convs.forEach(c=>{
          const d=document.createElement('div'); d.className='conversation-item'; d.dataset.id=c.id;
          d.innerHTML=`<img src="${c.img}"/><div class="info"><strong>${c.name}</strong><p>${c.messages.slice(-1)[0].text}</p></div>`;
          d.addEventListener('click',()=>{ document.querySelectorAll('.conversation-item').forEach(x=>x.classList.remove('active')); d.classList.add('active'); loadConv(c.id); });
          convListEl.appendChild(d);
        });
        if(convs.length) convListEl.firstChild.click();
      }
      function loadConv(idOrConv) {
        messagesEl.innerHTML = '';
        document.getElementById('chat-title').innerText = (typeof idOrConv === 'object' ? idOrConv.name : convs.find(c => c.id == idOrConv)?.name) || '';
        if (typeof idOrConv === 'object') {
          current = idOrConv;
          convs.push(idOrConv);
        } else {
          current = convs.find(c => c.id == idOrConv);
        }
        current.messages.forEach(m => appendMsg(m.sender, m.text));
      }


      function appendMsg(sender,text){
        const d=document.createElement('div'); d.className='message '+(sender==='user'?'user':'other'); d.innerText=text;
        messagesEl.appendChild(d); messagesEl.scrollTop=messagesEl.scrollHeight;
      }
      sendBtn.addEventListener('click',()=>{
        const t=inputEl.value.trim(); if(!t||!current) return;
        current.messages.push({sender:'user',text:t}); appendMsg('user',t); inputEl.value='';
        setTimeout(()=>{ const r='Thanks for reaching out!'; current.messages.push({sender:'other',text:r}); appendMsg('other',r); },1000);
      });
      renderConvs();
    }

    // Notifications panel
    let notificationsInit=false;
    function initNotifications(){
      if(notificationsInit) return; notificationsInit=true;
      const notiEl=document.getElementById('notifications');
      const notes=[
        {img:'https://loremflickr.com/40/40/face?random=8',text:'Ria Seth viewed your profile',time:'2h ago'},
        {img:'https://loremflickr.com/40/40/face?random=9',text:'You have a new connection with Tia Gupta',time:'5h ago'},
        {img:'https://loremflickr.com/40/40/face?random=10',text:'Nick Rai liked your post',time:'1d ago'}
      ];
      notes.forEach(n=>{
        const d=document.createElement('div'); d.className='notification';
        d.innerHTML=`<img src="${n.img}"/><div class="info">${n.text}</div><div class="time">${n.time}</div>`;
        d.addEventListener('click',()=>d.classList.add('read'));
        notiEl.appendChild(d);
      });
    }

    // Me panel tabs
document.querySelectorAll('#me .activity-tabs button').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('#me .activity-tabs button').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const act = btn.dataset.act;
    const cont = document.getElementById('activity-content');

    if (act === 'posts') {
      cont.innerHTML = userPosts.length ? userPosts.join('') : '<p>No recent posts to display.</p>';
    } else if (act === 'reactions') {
      cont.innerHTML = userReactions.length ? userReactions.join('') : '<p>You have no reactions yet.</p>';
    } else {
      cont.innerHTML = '<p>You are not following anyone yet.</p>';
    }
  });
});


    // Me profile view
    const usersData = {
      janeSmith:{name:'Jane Smith',headline:'Full-Stack Developer',location:'Boston, MA',cover:'https://loremflickr.com/800/200/code?random=30',pic:'https://loremflickr.com/120/120/face?random=3',about:'Building web applications end-to-end.',experience:[{role:'Full-Stack Dev',company:'Webify',period:'2019-Present'},{role:'Backend Dev',company:'BackEnd Inc',period:'2017-19'}]},
      michaelLee:{name:'Michael Lee',headline:'Software Architect',location:'Denver, CO',cover:'https://loremflickr.com/800/200/tech?random=31',pic:'https://loremflickr.com/120/120/face?random=4',about:'Architecting scalable software solutions.',experience:[{role:'Architect',company:'ScaleUp',period:'2020-Present'},{role:'Sr Engineer',company:'BuildSoft',period:'2016-20'}]}
    };
    const profilePanel=document.getElementById('profile'),
          backFeed=document.querySelector('#profile .back-feed'),
          profCover=document.getElementById('profile-cover'),
          profPic=document.getElementById('profile-pic'),
          profName=document.getElementById('profile-name'),
          profHeadline=document.getElementById('profile-headline'),
          profLocation=document.getElementById('profile-location'),
          profAbout=document.querySelector('#profile-about p'),
          profExpList=document.querySelector('#profile-experience ul'),
          profConnect=document.getElementById('profile-connect'),
          profMessage=document.getElementById('profile-message');

    function showProfile(id){
      const u=usersData[id];
      if(!u) return;
      showPanel('profile');
      profCover.style.backgroundImage=`url('${u.cover}')`;
      profPic.src=u.pic; profName.innerText=u.name; profHeadline.innerText=u.headline; profLocation.innerText=u.location;
      profAbout.innerText=u.about;
      profExpList.innerHTML=u.experience.map(e=>`<li><strong>${e.role}</strong>, ${e.company} <em>(${e.period})</em></li>`).join('');
      profConnect.innerText='Connect'; profConnect.classList.remove('pending');
      profConnect.onclick=()=>{ profConnect.innerText='Pending'; profConnect.classList.add('pending'); };
      profMessage.onclick=()=>{ showPanel('messaging'); initMessaging(); };
    }
    backFeed.addEventListener('click',()=>showPanel('feed'));

    // Wire profile nav from posts & connections
    document.querySelectorAll('.post .post-header').forEach(ph=>{
      ph.addEventListener('click',()=>showProfile(ph.dataset.id));
    });
    document.querySelectorAll('.connection-item, .conn-card').forEach(ci=>{
      ci.addEventListener('click',()=>showProfile(ci.dataset.id));
    });

    // Initialize default
    showPanel('feed');
    // Force "Following" tab to be active in Me panel
    const meTabBtns = document.querySelectorAll('#me .activity-tabs button');
    const activityContent = document.getElementById('activity-content');

    // Always default to "Following" tab content
    function showFollowingTab() {
      meTabBtns.forEach(b => b.classList.remove('active'));
      const followingBtn = document.querySelector('#me .activity-tabs button[data-act="following"]');
      if (followingBtn) followingBtn.classList.add('active');
      activityContent.innerHTML = '<p>You are not following anyone yet.</p>';
    }

    // Whenever "Me" panel is opened, force "Following" tab
    const originalShowPanel = showPanel;
    showPanel = function(id) {
      originalShowPanel(id);
      if (id === 'me') showFollowingTab();
    };


const editBtn = document.querySelector('.me-buttons button:first-child');
const editModal = document.getElementById('edit-profile-modal');
const editClose = editModal.querySelector('.close');
const saveProfile = document.getElementById('save-profile');

// When Edit button is clicked, populate fields and show modal
editBtn.addEventListener('click', () => {
  // Set the current profile information in the fields
document.getElementById('edit-headline').value = document.querySelector('#me .me-info p:nth-of-type(1)').innerText;
document.getElementById('edit-location').value = document.querySelector('#me .me-info p:nth-of-type(2)').innerText;
document.getElementById('edit-about').value = document.querySelector('#me .me-about p').innerText;


  // Display the modal
  editModal.style.display = 'flex';
});

// Close the modal when the close button is clicked
editClose.addEventListener('click', () => editModal.style.display = 'none');

// Save the profile updates when Save button is clicked
saveProfile.addEventListener('click', () => {
  // Get the edited values from the fields
  const newHeadline = document.getElementById('edit-headline').value;
  const newLocation = document.getElementById('edit-location').value;
  const newAbout = document.getElementById('edit-about').value;

  // Update the profile display with the new values
document.querySelector('#me .me-info p:nth-of-type(1)').innerText = newHeadline;
document.querySelector('#me .me-info p:nth-of-type(2)').innerText = newLocation;
document.querySelector('#me .me-about p').innerText = newAbout;


  // Close the modal
  editModal.style.display = 'none';
});



    const searchInput = document.getElementById('search');
    const suggestionsBox = document.getElementById('suggestions');

    // Collect all names from people suggestions, connections, and messaging
    const allNames = new Set();

    // People You May Know
    document.querySelectorAll('.people-suggestions .person h4').forEach(el => allNames.add(el.innerText.trim()));

    // Connections
    document.querySelectorAll('#sidebar-connections .conn-card h4').forEach(el => allNames.add(el.innerText.trim()));

    // Messaging
    document.querySelectorAll('#network .connection-item h4').forEach(el => allNames.add(el.innerText.trim()));

    const allNamesList = Array.from(allNames);

searchInput.addEventListener('input', () => {
  const query = searchInput.value.trim().toLowerCase();
  suggestionsBox.innerHTML = '';

  if (!query) {
    suggestionsBox.style.display = 'none';
    return;
  }

  const filtered = peopleList.filter(person =>
    person.name.toLowerCase().includes(query) ||
    person.headline.toLowerCase().includes(query)
  );

  if (filtered.length) {
    filtered.forEach(person => {
      const item = document.createElement('div');
      item.className = 'item';
      item.innerHTML = `<div><strong>${person.name}</strong><br><span style="font-size:0.85rem;color:gray;">${person.headline}</span></div>`;
      item.addEventListener('click', () => {
        searchInput.value = person.name;
        suggestionsBox.style.display = 'none';
      });
      suggestionsBox.appendChild(item);
    });
    suggestionsBox.style.display = 'block';
  } else {
    suggestionsBox.style.display = 'none';
  }
});

function initShareHover(container) {
  container.querySelectorAll('.share-wrapper').forEach(wrapper => {
    wrapper.addEventListener('mouseenter', () => {
      const popup = wrapper.querySelector('.share-popup');
      if (popup) {
        popup.style.opacity = '1';
        popup.style.visibility = 'visible';
      }
    });
    wrapper.addEventListener('mouseleave', () => {
      const popup = wrapper.querySelector('.share-popup');
      if (popup) {
        popup.style.opacity = '0';
        popup.style.visibility = 'hidden';
      }
    });
  });
}



  </script>
</body>
</html>
